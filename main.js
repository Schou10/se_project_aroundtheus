!function(){"use strict";class e{constructor(e){this._baseUrl=e.baseUrl,this._headers=e.headers}_checkResponse(e){return e.ok?e.json():Promise.reject(`Error: ${e.status}`)}_request(e,t){return fetch(e,t).then(this._checkResponse)}getInitialCards(){return this._request(`${this._baseUrl}/cards`,{method:"GET",headers:this._headers})}getUserInfo(){return this._request(`${this._baseUrl}/users/me`,{method:"GET",headers:this._headers})}updateUserInfo(e){return this._request(`${this._baseUrl}/users/me`,{method:"PATCH",headers:this._headers,body:JSON.stringify(e)})}updateUserAvatar(e){return this._request(`${this._baseUrl}/users/me/avatar`,{method:"PATCH",headers:this._headers,body:JSON.stringify({avatar:e.avatar})})}addNewCard(e){return this._request(`${this._baseUrl}/cards`,{method:"POST",headers:this._headers,body:JSON.stringify({name:e.name,link:e.link})})}deleteCard(e){return this._request(`${this._baseUrl}/cards/${e}`,{method:"DELETE",headers:this._headers})}addLike(e){return this._request(`${this._baseUrl}/cards/${e}/likes`,{method:"PUT",headers:this._headers})}removeLike(e){return this._request(`${this._baseUrl}/cards/${e}/likes`,{method:"DELETE",headers:this._headers})}}new e({baseUrl:"https://around-api.en.tripleten-services.com/v1",headers:{authourization:"Bearer  91b601cc-d5b2-405d-a21a-614e7e8f57e7","Content-Type":"application/json"}});class t{constructor(e,t,s,r,n){this._id=e._id,this._name=e.name,this._link=e.link,this._isLiked=e.isLiked,this._userId=e.owner,this._cardSelector=t,this._handleImageClick=s,this._handleDeleteSubmit=r,this._handleCardLike=n,this._element=this._getTemplate()}_getTemplate(){return document.querySelector(this._cardSelector).content.querySelector(".card").cloneNode(!0)}_setEventListeners(){this._likeButton.addEventListener("click",(()=>{this._handleCardLike(this)})),this._deleteButton.addEventListener("click",(()=>{this._handleDeleteSubmit(this)})),this._cardImageElement.addEventListener("click",(()=>{this._handleImageClick({name:this._name,link:this._link})}))}isLiked(){return this._isLiked}updateLikes(e){this._isLiked=e,this.toggleLikeIcon()}toggleLikeIcon(){this._likeButton.classList.toggle("card__like-button-active",this._isLiked)}getId(){return this._id}removeCard(){this._cardElement.remove(),this._cardElement=null}getView(){return this._cardElement=this._getTemplate(),this._likeButton=this._cardElement.querySelector(".card__like-button"),this._cardImageElement=this._cardElement.querySelector(".card__image"),this._deleteButton=this._cardElement.querySelector(".card__delete-button"),this._cardImageElement.setAttribute("src",this._link),this._cardImageElement.setAttribute("alt",this._name),this._cardElement.querySelector(".card__title").textContent=this._name,this.toggleLikeIcon(),this._setEventListeners(),this._cardElement}}class s{constructor(e,t){this._inputSelector=e.inputSelector,this._submitButtonSelector=e.submitButtonSelector,this._inactiveButtonClass=e.inactiveButtonClass,this._inputErrorClass=e.inputErrorClass,this._errorClass=e.errorClass,this._form=t,this._inputEls=[...this._form.querySelectorAll(this._inputSelector)],this._submitButton=this._form.querySelector(this._submitButtonSelector)}_hideInputError(e){const t=this._form.querySelector(`#${e.id}-error`);e.classList.remove(this._inputErrorClass),t.classList.remove(this._errorClass),t.textContent=""}_showInputError(e){const t=this._form.querySelector(`#${e.id}-error`);e.classList.add(this._inputErrorClass),t.textContent=e.validationMessage,t.classList.add(this._errorClass)}_hasInvalidInput(){return this._inputEls.some((e=>!e.validity.valid))}_toggleButtonState(){this._hasInvalidInput()?this.disableButton():this._enableButton()}_enableButton(){this._submitButton.classList.remove(this._inactiveButtonClass),this._submitButton.disabled=!1}disableButton(){this._submitButton.classList.add(this._inactiveButtonClass),this._submitButton.disabled=!0}_checkInputValidity(e){e.validity.valid?this._hideInputError(e):this._showInputError(e)}_setEventListeners(){this._toggleButtonState(),this._inputEls.forEach((e=>{e.addEventListener("input",(()=>{this._checkInputValidity(e),this._toggleButtonState()}))})),this._form.addEventListener("reset",(()=>{setTimeout((()=>{this._toggleButtonState()}),0)}))}enableValidation(){this._form.addEventListener("submit",(e=>{e.preventDefault()})),this._setEventListeners()}}const r={inputSelector:".modal__input",submitButtonSelector:".modal__button",inactiveButtonClass:"modal__button_disabled",inputErrorClass:"modal__input_type_error",errorClass:"modal__error_visible"};class n{constructor(e){this._popupElement=document.querySelector(e)}open(){this._popupElement.classList.add("modal_opened"),document.addEventListener("keydown",this._handleEscapeClose)}close(){this._popupElement.classList.remove("modal_opened"),document.removeEventListener("keydown",this._handleEscapeClose)}_handleEscapeClose=e=>{"Escape"!==e.key&&"Esc"!==e.key||this.close()};setEventListeners(){this._closeButton=this._popupElement.querySelector(".modal__close"),this._closeButton.addEventListener("click",(()=>{this.close()})),this._popupElement.addEventListener("click",(e=>{e.target.classList.contains("modal_opened")&&this.close()}))}}class i extends n{constructor(e,t){super(e),this._popupForm=this._popupElement.querySelector(".modal__form"),this._handleFormSubmit=t,this.inputList=this._popupForm.querySelectorAll(".modal__input")}setEventListeners(){super.setEventListeners(),this._popupForm.addEventListener("submit",(e=>{e.preventDefault();const t=this._getInputValues();this._handleFormSubmit(t)}))}_getInputValues(){const e={};return this.inputList.forEach((t=>{e[t.name]=t.value.trim()})),e}setInputValues(e){console.log(e),this.inputList.forEach((t=>{t.value=e[t.name]}))}}const a=new e({baseUrl:"https://around-api.en.tripleten-services.com/v1",headers:{authorization:"91b601cc-d5b2-405d-a21a-614e7e8f57e7","Content-Type":"application/json"}}),o=new class{constructor(e,t){let{data:s,renderer:r}=e;this._data=s,this._renderer=r,this._container=document.querySelector(t)}renderItems(){this._data.forEach((e=>{this._renderer(e)}))}addItems(e){this._container.prepend(e)}}({renderer:e=>{const t=q(e);o.addItems(t)}},".galary__cards"),l=new class{constructor(e,t,s){this._nameElement=document.querySelector(e),this._jobElement=document.querySelector(t),this._avatarElement=document.querySelector(s)}getUserInfo(){return{name:this._nameElement.textContent,about:this._jobElement.textContent,avatar:this._avatarElement.src}}setUserInfo(e){e.name&&(this._nameElement.textContent=e.name),e.about&&(this._jobElement.textContent=e.about),e.avatar&&(this._avatarElement.src=e.avatar)}}("#name","#description","#avatar");a.getUserInfo().then((e=>{l.setUserInfo({name:e.name,about:e.about,avatar:e.avatar})})).catch((e=>{console.error(`Error fetching user info: ${e}`)})),a.getInitialCards().then((e=>{o.renderItems(e)})).catch((e=>{console.error(`Error fetcting cards: ${e}`)}));const d=new i("#profile-edit-modal",(function(e){console.log(e),a.updateUserInfo({name:e.name,about:e.about}).then((e=>{l.setUserInfo({name:e.name,about:e.about||e.dascription||e.bio}),d.close()})).catch((e=>console.error(`Error updating profile: ${e}`)))})),c=new i("#add-card-modal",(function(e){const t={name:e.title,link:e.url};a.addNewCard(t).then((e=>{const t=q(e);o.addItems(t),c.close(),f.reset(),y.disableButton()})).catch((e=>{console.error(`Error adding card: ${e}`)}))})),u=new class extends n{constructor(e,t){super(e),this._popupImage=this._popupElement.querySelector(".modal__image"),this._popupTitle=this._popupElement.querySelector(".modal__card-title")}open(e){this._popupImage.src=e.link,this._popupImage.alt=e.name,this._popupTitle.textContent=e.name,super.open()}}("#image-modal",B),h=new class extends n{constructor(e,t){super(e),this._confimButton=this._popupElement.querySelector(".modal__button"),this._handleConfirm=t}setEventListeners(){super.setEventListeners(),this._handleConfirm}}("#delete-modal",U),_=new i("#avatar-modal",(function(e){a.updateUserAvatar({avatar:e.url}).then((e=>{l.setUserInfo({avatar:e.avatar}),_.close()})).catch((e=>console.error(`Error updating avatar: ${e}`)))})),m=document.querySelector("#profile-edit-button"),p=document.querySelector("#profile-add-button"),E=document.querySelector("#avatar-overlay"),v=document.querySelector("#name-input"),b=document.querySelector("#description-input"),L=document.forms["profile-edit-form"],f=document.forms["add-card-form"],g=document.forms["delete-form"],k=document.forms["avatar-form"],S=new s(r,L),y=new s(r,f),I=new s(r,g),C=new s(r,k);function q(e){return new t(e,"#card-template",B,U,w).getView()}function B(e){u.open(e)}function U(e){a.deleteCard(e._id).then((e=>{const t=document.querySelector("#delete-confirm-button");h.open(),t.addEventListener("click",(function s(){e.removeCard(),a.deleteCard(e._id),h.close(),t.removeEventListener("click",s)}))})).catch((e=>{console.error(`Error deleting card ${e}`)}))}function w(e){(e.isLiked()?a.removeLike(e.getId()):a.addLike(e.getId())).then((t=>{e.updateLikes(t.isLiked)})).catch((e=>console.error(`Error updating like status: ${e}`)))}function $(e){const t=l.getUserInfo();v.value=t.name,b.value=t.about,e.open()}S.enableValidation(),y.enableValidation(),I.enableValidation(),C.enableValidation(),E.addEventListener("click",(()=>{$(_)})),m.addEventListener("click",(()=>{$(d)})),p.addEventListener("click",(()=>{c.open()})),d.setEventListeners(),c.setEventListeners(),u.setEventListeners(),h.setEventListeners(),_.setEventListeners()}();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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YywwQkFDN0NxSSxFQUFZdkUsT0FDWnlGLEVBQWNsSixpQkFBaUIsU0FBUyxTQUFTbUosSUFDakRGLEVBQUt4SSxhQUNMeUUsRUFBSS9HLFdBQVc4SyxFQUFLcEssS0FDcEJtSixFQUFZckUsUUFDWnVGLEVBQWN0RixvQkFBb0IsUUFBU3VGLEVBQzdDLEdBQUUsSUFDRHJDLE9BQU1DLElBQ0wvQixRQUFRZ0MsTUFBTSx1QkFBdUJELElBQU0sR0FFL0MsQ0FHQSxTQUFTbkksRUFBZXFLLElBQ05BLEVBQUtoSyxVQUdqQmlHLEVBQUk1RyxXQUFXMkssRUFBS3pJLFNBQ3BCMEUsRUFBSTdHLFFBQVE0SyxFQUFLekksVUFHbEJuRCxNQUFLK0wsSUFDSkgsRUFBSzlJLFlBQVlpSixFQUFnQm5LLFFBQVEsSUFFMUM2SCxPQUFNQyxHQUFPL0IsUUFBUWdDLE1BQU0sK0JBQStCRCxNQUMvRCxDQUVBLFNBQVNzQyxFQUFVQyxHQUNqQixNQUFNQyxFQUFjcEQsRUFBSzNJLGNBQ3pCZ0wsRUFBYzNELE1BQVEwRSxFQUFZdEwsS0FDbEN3SyxFQUFhNUQsTUFBUTBFLEVBQVk3QyxNQUNqQzRDLEVBQU03RixNQUNSLENBOUdBcUYsRUFBa0I1RixtQkFDbEJ5RSxFQUFpQnpFLG1CQUNqQjZGLEVBQW9CN0YsbUJBQ3BCOEYsRUFBb0I5RixtQkE4R3BCbkYsRUFBT2lDLGlCQUFpQixTQUFTLEtBQU1xSixFQUFVakIsRUFBWSxJQUU3REUsRUFBa0J0SSxpQkFBaUIsU0FBUyxLQUFNcUosRUFBVW5DLEVBQVUsSUFFdEVxQixFQUFpQnZJLGlCQUFpQixTQUFTLEtBQ3pDc0gsRUFBYTdELE1BQU0sSUFLckJ5RCxFQUFVbkQsb0JBQ1Z1RCxFQUFhdkQsb0JBQ2I2RCxFQUFXN0Qsb0JBQ1hpRSxFQUFZakUsb0JBQ1pxRSxFQUFZckUsbUIiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9wcmFjdGljdW0vLi9zcmMvY29tcG9uZW50cy9BUEkuanMiLCJ3ZWJwYWNrOi8vcHJhY3RpY3VtLy4vc3JjL2NvbXBvbmVudHMvY2FyZC5qcyIsIndlYnBhY2s6Ly9wcmFjdGljdW0vLi9zcmMvY29tcG9uZW50cy9Gb3JtVmFsaWRhdG9yLmpzIiwid2VicGFjazovL3ByYWN0aWN1bS8uL3NyYy91dGlscy9jb25zdGFudHMuanMiLCJ3ZWJwYWNrOi8vcHJhY3RpY3VtLy4vc3JjL2NvbXBvbmVudHMvUG9wdXAuanMiLCJ3ZWJwYWNrOi8vcHJhY3RpY3VtLy4vc3JjL2NvbXBvbmVudHMvUG9wdXBXaXRoRm9ybS5qcyIsIndlYnBhY2s6Ly9wcmFjdGljdW0vLi9zcmMvcGFnZXMvaW5kZXguanMiLCJ3ZWJwYWNrOi8vcHJhY3RpY3VtLy4vc3JjL2NvbXBvbmVudHMvU2VjdGlvbi5qcyIsIndlYnBhY2s6Ly9wcmFjdGljdW0vLi9zcmMvY29tcG9uZW50cy9Vc2VySW5mby5qcyIsIndlYnBhY2s6Ly9wcmFjdGljdW0vLi9zcmMvY29tcG9uZW50cy9Qb3B1cFdpdGhJbWFnZS5qcyIsIndlYnBhY2s6Ly9wcmFjdGljdW0vLi9zcmMvY29tcG9uZW50cy9Qb3B1cFdpdGhDb25maXJtYXRpb24uanMiXSwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGRlZmF1bHQgY2xhc3MgQXBpIHtcclxuICBjb25zdHJ1Y3RvcihvcHRpb25zKSB7XHJcbiAgICB0aGlzLl9iYXNlVXJsID0gb3B0aW9ucy5iYXNlVXJsO1xyXG4gICAgdGhpcy5faGVhZGVycyA9IG9wdGlvbnMuaGVhZGVycztcclxuICB9XHJcblxyXG4gIF9jaGVja1Jlc3BvbnNlKHJlcyl7XHJcbiAgICBpZiAocmVzLm9rKXtcclxuICAgICAgcmV0dXJuIHJlcy5qc29uKCk7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QoYEVycm9yOiAke3Jlcy5zdGF0dXN9YCk7XHJcbiAgfVxyXG5cclxuICBfcmVxdWVzdCh1cmwsIG9wdGlvbnMpe1xyXG4gICAgcmV0dXJuIGZldGNoKHVybCwgb3B0aW9ucykudGhlbih0aGlzLl9jaGVja1Jlc3BvbnNlKTtcclxuICB9XHJcblxyXG4gIGdldEluaXRpYWxDYXJkcygpIHtcclxuICAgIHJldHVybiB0aGlzLl9yZXF1ZXN0KGAke3RoaXMuX2Jhc2VVcmx9L2NhcmRzYCwge1xyXG4gICAgICBtZXRob2Q6IFwiR0VUXCIsXHJcbiAgICAgIGhlYWRlcnM6IHRoaXMuX2hlYWRlcnMsXHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIC8vIG90aGVyIG1ldGhvZHMgZm9yIHdvcmtpbmcgd2l0aCB0aGUgQVBJXHJcbiAgZ2V0VXNlckluZm8oKXtcclxuICAgIHJldHVybiB0aGlzLl9yZXF1ZXN0KGAke3RoaXMuX2Jhc2VVcmx9L3VzZXJzL21lYCx7XHJcbiAgICAgIG1ldGhvZCA6XCJHRVRcIixcclxuICAgICAgaGVhZGVyczogdGhpcy5faGVhZGVyc1xyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxuICB1cGRhdGVVc2VySW5mbyhkYXRhKXtcclxuICAgIHJldHVybiB0aGlzLl9yZXF1ZXN0KGAke3RoaXMuX2Jhc2VVcmx9L3VzZXJzL21lYCwge1xyXG4gICAgICBtZXRob2Q6IFwiUEFUQ0hcIixcclxuICAgICAgaGVhZGVyczogdGhpcy5faGVhZGVycyxcclxuICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoZGF0YSlcclxuICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgdXBkYXRlVXNlckF2YXRhcihkYXRhKXtcclxuICAgIHJldHVybiB0aGlzLl9yZXF1ZXN0KGAke3RoaXMuX2Jhc2VVcmx9L3VzZXJzL21lL2F2YXRhcmAse1xyXG4gICAgICBtZXRob2Q6IFwiUEFUQ0hcIixcclxuICAgICAgaGVhZGVyczogdGhpcy5faGVhZGVycyxcclxuICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoe1xyXG4gICAgICAgIGF2YXRhcjogZGF0YS5hdmF0YXJcclxuICAgICAgfSlcclxuICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgYWRkTmV3Q2FyZChkYXRhKSB7XHJcbiAgICByZXR1cm4gdGhpcy5fcmVxdWVzdChgJHt0aGlzLl9iYXNlVXJsfS9jYXJkc2AsIHtcclxuICAgICAgbWV0aG9kOiBcIlBPU1RcIixcclxuICAgICAgaGVhZGVyczogdGhpcy5faGVhZGVycyxcclxuICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoe1xyXG4gICAgICAgIG5hbWU6IGRhdGEubmFtZSxcclxuICAgICAgICBsaW5rOiBkYXRhLmxpbmtcclxuICAgICAgfSlcclxuICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgZGVsZXRlQ2FyZChjYXJkSWQpIHtcclxuICAgIHJldHVybiB0aGlzLl9yZXF1ZXN0KGAke3RoaXMuX2Jhc2VVcmx9L2NhcmRzLyR7Y2FyZElkfWAsIHtcclxuICAgICAgbWV0aG9kOiBcIkRFTEVURVwiLFxyXG4gICAgICBoZWFkZXJzOiB0aGlzLl9oZWFkZXJzXHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIGFkZExpa2UoY2FyZElkKXtcclxuICAgIHJldHVybiB0aGlzLl9yZXF1ZXN0KGAke3RoaXMuX2Jhc2VVcmx9L2NhcmRzLyR7Y2FyZElkfS9saWtlc2AsIHtcclxuICAgICAgbWV0aG9kOiAnUFVUJyxcclxuICAgICAgaGVhZGVyczogdGhpcy5faGVhZGVyc1xyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxuICByZW1vdmVMaWtlKGNhcmRJZCl7XHJcbiAgICByZXR1cm4gdGhpcy5fcmVxdWVzdChgJHt0aGlzLl9iYXNlVXJsfS9jYXJkcy8ke2NhcmRJZH0vbGlrZXNgLCB7XHJcbiAgICAgIG1ldGhvZDogJ0RFTEVURScsXHJcbiAgICAgIGhlYWRlcnM6IHRoaXMuX2hlYWRlcnNcclxuICAgIH0pXHJcbiAgfVxyXG5cclxuICB9XHJcblxyXG5jb25zdCBhcGkgPSBuZXcgQXBpKHtcclxuICBiYXNlVXJsOiBcImh0dHBzOi8vYXJvdW5kLWFwaS5lbi50cmlwbGV0ZW4tc2VydmljZXMuY29tL3YxXCIsXHJcbiAgaGVhZGVyczoge1xyXG4gICAgYXV0aG91cml6YXRpb246IFwiQmVhcmVyICA5MWI2MDFjYy1kNWIyLTQwNWQtYTIxYS02MTRlN2U4ZjU3ZTdcIixcclxuICAgIFwiQ29udGVudC1UeXBlXCI6IFwiYXBwbGljYXRpb24vanNvblwiXHJcbiAgfVxyXG59KTsiLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBDYXJkIHtcclxuICBjb25zdHJ1Y3RvcihkYXRhLCBjYXJkU2VsZWN0b3IsIGhhbmRsZUltYWdlQ2xpY2ssIGhhbmRsZURlbGV0ZVN1Ym1pdCwgaGFuZGxlQ2FyZExpa2UpIHtcclxuICAgIHRoaXMuX2lkID0gZGF0YS5faWQ7XHJcbiAgICB0aGlzLl9uYW1lID0gZGF0YS5uYW1lO1xyXG4gICAgdGhpcy5fbGluayA9IGRhdGEubGluaztcclxuICAgIHRoaXMuX2lzTGlrZWQgPSBkYXRhLmlzTGlrZWQ7XHJcbiAgICB0aGlzLl91c2VySWQgPSBkYXRhLm93bmVyO1xyXG4gICAgdGhpcy5fY2FyZFNlbGVjdG9yID0gY2FyZFNlbGVjdG9yO1xyXG4gICAgdGhpcy5faGFuZGxlSW1hZ2VDbGljayA9IGhhbmRsZUltYWdlQ2xpY2s7XHJcbiAgICB0aGlzLl9oYW5kbGVEZWxldGVTdWJtaXQgPSBoYW5kbGVEZWxldGVTdWJtaXQ7XHJcbiAgICB0aGlzLl9oYW5kbGVDYXJkTGlrZSA9IGhhbmRsZUNhcmRMaWtlO1xyXG4gICAgdGhpcy5fZWxlbWVudCA9IHRoaXMuX2dldFRlbXBsYXRlKCk7XHJcbiAgfVxyXG5cclxuICBfZ2V0VGVtcGxhdGUoKSB7XHJcbiAgICBjb25zdCBjYXJkRWxlbWVudCA9IGRvY3VtZW50XHJcbiAgICAgIC5xdWVyeVNlbGVjdG9yKHRoaXMuX2NhcmRTZWxlY3RvcilcclxuICAgICAgLmNvbnRlbnRcclxuICAgICAgLnF1ZXJ5U2VsZWN0b3IoJy5jYXJkJylcclxuICAgICAgLmNsb25lTm9kZSh0cnVlKTtcclxuICAgIHJldHVybiBjYXJkRWxlbWVudDtcclxuICB9XHJcblxyXG4gIF9zZXRFdmVudExpc3RlbmVycygpIHtcclxuICAgIHRoaXMuX2xpa2VCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XHJcbiAgICAgIHRoaXMuX2hhbmRsZUNhcmRMaWtlKHRoaXMpO1xyXG4gICAgfSk7XHJcblxyXG4gICAgdGhpcy5fZGVsZXRlQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xyXG4gICAgICB0aGlzLl9oYW5kbGVEZWxldGVTdWJtaXQodGhpcyk7XHJcbiAgICB9KTtcclxuXHJcbiAgICB0aGlzLl9jYXJkSW1hZ2VFbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xyXG4gICAgICB0aGlzLl9oYW5kbGVJbWFnZUNsaWNrKHtcclxuICAgICAgICBuYW1lOiB0aGlzLl9uYW1lLFxyXG4gICAgICAgIGxpbms6IHRoaXMuX2xpbmssXHJcbiAgICAgIH0pO1xyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxuICBpc0xpa2VkKCl7XHJcbiAgICByZXR1cm4gdGhpcy5faXNMaWtlZDtcclxuICB9XHJcblxyXG4gIHVwZGF0ZUxpa2VzKHVwZGF0ZWRMaWtlKSB7IFxyXG4gICAgdGhpcy5faXNMaWtlZCA9IHVwZGF0ZWRMaWtlOyAvL3VwZGF0ZXMgaXNMaWtlZCBCb29sZWFuXHJcbiAgICB0aGlzLnRvZ2dsZUxpa2VJY29uKCk7XHJcbiAgfVxyXG5cclxuICB0b2dnbGVMaWtlSWNvbigpIHtcclxuICAgIHRoaXMuX2xpa2VCdXR0b24uY2xhc3NMaXN0LnRvZ2dsZSgnY2FyZF9fbGlrZS1idXR0b24tYWN0aXZlJywgdGhpcy5faXNMaWtlZCk7XHJcbiAgICBcclxuICB9XHJcblxyXG4gIGdldElkKCkge1xyXG4gICAgcmV0dXJuIHRoaXMuX2lkO1xyXG4gIH1cclxuXHJcbiAgcmVtb3ZlQ2FyZCgpIHtcclxuICAgIHRoaXMuX2NhcmRFbGVtZW50LnJlbW92ZSgpO1xyXG4gICAgdGhpcy5fY2FyZEVsZW1lbnQgPSBudWxsO1xyXG4gIH1cclxuXHJcbiAgZ2V0VmlldygpIHtcclxuICAgIHRoaXMuX2NhcmRFbGVtZW50ID0gdGhpcy5fZ2V0VGVtcGxhdGUoKTtcclxuICAgIHRoaXMuX2xpa2VCdXR0b24gPSB0aGlzLl9jYXJkRWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLmNhcmRfX2xpa2UtYnV0dG9uXCIpXHJcbiAgICB0aGlzLl9jYXJkSW1hZ2VFbGVtZW50ID0gdGhpcy5fY2FyZEVsZW1lbnQucXVlcnlTZWxlY3RvcignLmNhcmRfX2ltYWdlJyk7XHJcbiAgICB0aGlzLl9kZWxldGVCdXR0b24gPSB0aGlzLl9jYXJkRWxlbWVudC5xdWVyeVNlbGVjdG9yKCcuY2FyZF9fZGVsZXRlLWJ1dHRvbicpXHJcbiAgICB0aGlzLl9jYXJkSW1hZ2VFbGVtZW50LnNldEF0dHJpYnV0ZSgnc3JjJywgdGhpcy5fbGluayk7XHJcbiAgICB0aGlzLl9jYXJkSW1hZ2VFbGVtZW50LnNldEF0dHJpYnV0ZSgnYWx0JywgdGhpcy5fbmFtZSk7XHJcbiAgICB0aGlzLl9jYXJkRWxlbWVudC5xdWVyeVNlbGVjdG9yKCcuY2FyZF9fdGl0bGUnKS50ZXh0Q29udGVudCA9IHRoaXMuX25hbWU7XHJcbiAgICB0aGlzLnRvZ2dsZUxpa2VJY29uKCk7IC8vU2hvd3MgdGhlIHVzZXIgaWYgaXQgYWxyZWFkeSBsaWtlZFxyXG4gICAgdGhpcy5fc2V0RXZlbnRMaXN0ZW5lcnMoKTtcclxuXHJcbiAgICByZXR1cm4gdGhpcy5fY2FyZEVsZW1lbnQ7XHJcbiAgfVxyXG59IiwiZXhwb3J0IGRlZmF1bHQgY2xhc3MgRm9ybVZhbGlkYXRvciB7XHJcbiAgY29uc3RydWN0b3Ioc2V0dGluZ3MsIGZvcm1FbGVtZW50KSB7XHJcbiAgICB0aGlzLl9pbnB1dFNlbGVjdG9yID0gc2V0dGluZ3MuaW5wdXRTZWxlY3RvcjtcclxuICAgIHRoaXMuX3N1Ym1pdEJ1dHRvblNlbGVjdG9yID0gc2V0dGluZ3Muc3VibWl0QnV0dG9uU2VsZWN0b3I7XHJcbiAgICB0aGlzLl9pbmFjdGl2ZUJ1dHRvbkNsYXNzID0gc2V0dGluZ3MuaW5hY3RpdmVCdXR0b25DbGFzcztcclxuICAgIHRoaXMuX2lucHV0RXJyb3JDbGFzcyA9IHNldHRpbmdzLmlucHV0RXJyb3JDbGFzcztcclxuICAgIHRoaXMuX2Vycm9yQ2xhc3MgPSBzZXR0aW5ncy5lcnJvckNsYXNzO1xyXG4gICAgdGhpcy5fZm9ybSA9IGZvcm1FbGVtZW50O1xyXG4gICAgdGhpcy5faW5wdXRFbHMgPSBbLi4udGhpcy5fZm9ybS5xdWVyeVNlbGVjdG9yQWxsKHRoaXMuX2lucHV0U2VsZWN0b3IpXTtcclxuICAgIHRoaXMuX3N1Ym1pdEJ1dHRvbiA9IHRoaXMuX2Zvcm0ucXVlcnlTZWxlY3Rvcih0aGlzLl9zdWJtaXRCdXR0b25TZWxlY3Rvcik7XHJcbiAgfVxyXG5cclxuICBfaGlkZUlucHV0RXJyb3IoaW5wdXRFbCkge1xyXG4gICAgY29uc3QgZXJyb3JNZXNzYWdlRWwgPSB0aGlzLl9mb3JtLnF1ZXJ5U2VsZWN0b3IoYCMke2lucHV0RWwuaWR9LWVycm9yYCk7XHJcbiAgICBpbnB1dEVsLmNsYXNzTGlzdC5yZW1vdmUodGhpcy5faW5wdXRFcnJvckNsYXNzKTtcclxuICAgIGVycm9yTWVzc2FnZUVsLmNsYXNzTGlzdC5yZW1vdmUodGhpcy5fZXJyb3JDbGFzcyk7XHJcbiAgICBlcnJvck1lc3NhZ2VFbC50ZXh0Q29udGVudCA9ICcnO1xyXG4gIH1cclxuXHJcbiAgX3Nob3dJbnB1dEVycm9yKGlucHV0RWwpIHtcclxuICAgIGNvbnN0IGVycm9yTWVzc2FnZUVsID0gdGhpcy5fZm9ybS5xdWVyeVNlbGVjdG9yKGAjJHtpbnB1dEVsLmlkfS1lcnJvcmApO1xyXG4gICAgaW5wdXRFbC5jbGFzc0xpc3QuYWRkKHRoaXMuX2lucHV0RXJyb3JDbGFzcyk7XHJcbiAgICBlcnJvck1lc3NhZ2VFbC50ZXh0Q29udGVudCA9IGlucHV0RWwudmFsaWRhdGlvbk1lc3NhZ2U7XHJcbiAgICBlcnJvck1lc3NhZ2VFbC5jbGFzc0xpc3QuYWRkKHRoaXMuX2Vycm9yQ2xhc3MpO1xyXG4gIH1cclxuXHJcbiAgX2hhc0ludmFsaWRJbnB1dCgpIHtcclxuICAgIHJldHVybiB0aGlzLl9pbnB1dEVscy5zb21lKChpbnB1dEVsKSA9PiAhaW5wdXRFbC52YWxpZGl0eS52YWxpZCk7XHJcbiAgfVxyXG5cclxuICBfdG9nZ2xlQnV0dG9uU3RhdGUoKSB7XHJcbiAgICBpZiAodGhpcy5faGFzSW52YWxpZElucHV0KCkpIHtcclxuICAgICAgdGhpcy5kaXNhYmxlQnV0dG9uKCk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICB0aGlzLl9lbmFibGVCdXR0b24oKTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIF9lbmFibGVCdXR0b24oKSB7XHJcbiAgICB0aGlzLl9zdWJtaXRCdXR0b24uY2xhc3NMaXN0LnJlbW92ZSh0aGlzLl9pbmFjdGl2ZUJ1dHRvbkNsYXNzKTtcclxuICAgIHRoaXMuX3N1Ym1pdEJ1dHRvbi5kaXNhYmxlZCA9IGZhbHNlO1xyXG4gIH1cclxuXHJcbiAgZGlzYWJsZUJ1dHRvbigpIHtcclxuICAgIHRoaXMuX3N1Ym1pdEJ1dHRvbi5jbGFzc0xpc3QuYWRkKHRoaXMuX2luYWN0aXZlQnV0dG9uQ2xhc3MpO1xyXG4gICAgdGhpcy5fc3VibWl0QnV0dG9uLmRpc2FibGVkID0gdHJ1ZTtcclxuICB9XHJcblxyXG4gIF9jaGVja0lucHV0VmFsaWRpdHkoaW5wdXRFbCkge1xyXG4gICAgaWYgKCFpbnB1dEVsLnZhbGlkaXR5LnZhbGlkKSB7XHJcbiAgICAgIHRoaXMuX3Nob3dJbnB1dEVycm9yKGlucHV0RWwpO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgdGhpcy5faGlkZUlucHV0RXJyb3IoaW5wdXRFbCk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBfc2V0RXZlbnRMaXN0ZW5lcnMoKSB7XHJcbiAgICB0aGlzLl90b2dnbGVCdXR0b25TdGF0ZSgpO1xyXG4gICAgdGhpcy5faW5wdXRFbHMuZm9yRWFjaCgoaW5wdXRFbCkgPT4ge1xyXG4gICAgICBpbnB1dEVsLmFkZEV2ZW50TGlzdGVuZXIoJ2lucHV0JywgKCkgPT4ge1xyXG4gICAgICAgIHRoaXMuX2NoZWNrSW5wdXRWYWxpZGl0eShpbnB1dEVsKTtcclxuICAgICAgICB0aGlzLl90b2dnbGVCdXR0b25TdGF0ZSgpO1xyXG4gICAgICB9KTtcclxuICAgIH0pO1xyXG4gICAgdGhpcy5fZm9ybS5hZGRFdmVudExpc3RlbmVyKCdyZXNldCcsICgpID0+IHtcclxuICAgICAgc2V0VGltZW91dCgoKSA9PiB7XHJcbiAgICAgICAgdGhpcy5fdG9nZ2xlQnV0dG9uU3RhdGUoKTtcclxuICAgICAgfSwgMCk7XHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIGVuYWJsZVZhbGlkYXRpb24oKSB7XHJcbiAgICB0aGlzLl9mb3JtLmFkZEV2ZW50TGlzdGVuZXIoJ3N1Ym1pdCcsIChlKSA9PiB7XHJcbiAgICAgIGUucHJldmVudERlZmF1bHQoKTtcclxuICAgIH0pO1xyXG4gICAgdGhpcy5fc2V0RXZlbnRMaXN0ZW5lcnMoKTtcclxuICB9XHJcbn0iLCJleHBvcnQgY29uc3QgaW5pdGlhbENhcmRzID0gW1xyXG4gIHtcclxuICAgIG5hbWU6IFwiWW9zZW1pdGUgVmFsbGV5XCIsXHJcbiAgICBsaW5rOiBcImh0dHBzOi8vcHJhY3RpY3VtLWNvbnRlbnQuczMudXMtd2VzdC0xLmFtYXpvbmF3cy5jb20vc29mdHdhcmUtZW5naW5lZXIvYXJvdW5kLXByb2plY3QveW9zZW1pdGUuanBnXCIgXHJcbiAgfSxcclxuICB7XHJcbiAgICBuYW1lOiBcIkxha2UgTG91aXNleVwiLFxyXG4gICAgbGluazogXCJodHRwczovL3ByYWN0aWN1bS1jb250ZW50LnMzLnVzLXdlc3QtMS5hbWF6b25hd3MuY29tL3NvZnR3YXJlLWVuZ2luZWVyL2Fyb3VuZC1wcm9qZWN0L2xha2UtbG91aXNlLmpwZ1wiIFxyXG4gIH0sXHJcbiAge1xyXG4gICAgbmFtZTogXCJCYWxkIE1vdW50YWluc1wiLFxyXG4gICAgbGluazogXCJodHRwczovL3ByYWN0aWN1bS1jb250ZW50LnMzLnVzLXdlc3QtMS5hbWF6b25hd3MuY29tL3NvZnR3YXJlLWVuZ2luZWVyL2Fyb3VuZC1wcm9qZWN0L2JhbGQtbW91bnRhaW5zLmpwZ1wiIFxyXG4gIH0sXHJcbiAge1xyXG4gICAgbmFtZTogXCJMYXRlbWFyXCIsXHJcbiAgICBsaW5rOiBcImh0dHBzOi8vcHJhY3RpY3VtLWNvbnRlbnQuczMudXMtd2VzdC0xLmFtYXpvbmF3cy5jb20vc29mdHdhcmUtZW5naW5lZXIvYXJvdW5kLXByb2plY3QvbGF0ZW1hci5qcGdcIiBcclxuICB9LFxyXG4gIHtcclxuICAgIG5hbWU6IFwiVmFub2lzZSBOYXRpb25hbCBQYXJrXCIsXHJcbiAgICBsaW5rOiBcImh0dHBzOi8vcHJhY3RpY3VtLWNvbnRlbnQuczMudXMtd2VzdC0xLmFtYXpvbmF3cy5jb20vc29mdHdhcmUtZW5naW5lZXIvYXJvdW5kLXByb2plY3QvdmFub2lzZS5qcGdcIiBcclxuICB9LFxyXG4gIHtcclxuICAgIG5hbWU6IFwiTGFnbyBkaSBCcmFpZXNcIixcclxuICAgIGxpbms6IFwiaHR0cHM6Ly9wcmFjdGljdW0tY29udGVudC5zMy51cy13ZXN0LTEuYW1hem9uYXdzLmNvbS9zb2Z0d2FyZS1lbmdpbmVlci9hcm91bmQtcHJvamVjdC9sYWdvLmpwZ1wiIFxyXG4gIH1cclxuXTtcclxuXHJcbmV4cG9ydCBjb25zdCB2YWxpZGF0aW9uU2V0dGluZ3MgPSB7XHJcbiAgaW5wdXRTZWxlY3RvcjogXCIubW9kYWxfX2lucHV0XCIsXHJcbiAgc3VibWl0QnV0dG9uU2VsZWN0b3I6IFwiLm1vZGFsX19idXR0b25cIixcclxuICBpbmFjdGl2ZUJ1dHRvbkNsYXNzOiBcIm1vZGFsX19idXR0b25fZGlzYWJsZWRcIixcclxuICBpbnB1dEVycm9yQ2xhc3M6IFwibW9kYWxfX2lucHV0X3R5cGVfZXJyb3JcIixcclxuICBlcnJvckNsYXNzOiBcIm1vZGFsX19lcnJvcl92aXNpYmxlXCJcclxufSIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIFBvcHVwe1xyXG4gIGNvbnN0cnVjdG9yKHBvcHVwU2VsZWN0b3IpIHtcclxuICAgIHRoaXMuX3BvcHVwRWxlbWVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IocG9wdXBTZWxlY3Rvcik7XHJcbiAgfVxyXG5cclxuICBvcGVuKCkge1xyXG4gICAgdGhpcy5fcG9wdXBFbGVtZW50LmNsYXNzTGlzdC5hZGQoJ21vZGFsX29wZW5lZCcpO1xyXG4gICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIHRoaXMuX2hhbmRsZUVzY2FwZUNsb3NlKTtcclxuICB9XHJcblxyXG4gIGNsb3NlKCkge1xyXG4gICAgdGhpcy5fcG9wdXBFbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUoJ21vZGFsX29wZW5lZCcpO1xyXG4gICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImtleWRvd25cIiwgdGhpcy5faGFuZGxlRXNjYXBlQ2xvc2UpO1xyXG4gIH1cclxuXHJcbiAgX2hhbmRsZUVzY2FwZUNsb3NlID0gKGV2ZW50KSA9PiB7XHJcbiAgICBpZiAoZXZlbnQua2V5ID09PSBcIkVzY2FwZVwiIHx8IGV2ZW50LmtleSA9PT0gXCJFc2NcIikge1xyXG4gICAgICB0aGlzLmNsb3NlKCk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBzZXRFdmVudExpc3RlbmVycygpIHtcclxuICAgIHRoaXMuX2Nsb3NlQnV0dG9uID0gdGhpcy5fcG9wdXBFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoJy5tb2RhbF9fY2xvc2UnKTtcclxuICAgIHRoaXMuX2Nsb3NlQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge3RoaXMuY2xvc2UoKTt9KTtcclxuICAgIHRoaXMuX3BvcHVwRWxlbWVudC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChldmVudCkgPT4ge1xyXG4gICAgICBpZiAoZXZlbnQudGFyZ2V0LmNsYXNzTGlzdC5jb250YWlucyhcIm1vZGFsX29wZW5lZFwiKSkge1xyXG4gICAgICAgIHRoaXMuY2xvc2UoKTtcclxuICAgICAgfVxyXG4gICAgfSApXHJcbiAgfVxyXG59IiwiaW1wb3J0IFBvcHVwIGZyb20gXCIuL1BvcHVwLmpzXCI7XHJcblxyXG5leHBvcnQgY2xhc3MgUG9wdXBXaXRoRm9ybSBleHRlbmRzIFBvcHVwe1xyXG4gIGNvbnN0cnVjdG9yKHBvcHVwU2VsZWN0b3IsIGhhbmRsZUZvcm1TdWJtaXQpIHtcclxuICAgIHN1cGVyKHBvcHVwU2VsZWN0b3IpO1xyXG4gICAgdGhpcy5fcG9wdXBGb3JtID0gdGhpcy5fcG9wdXBFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoJy5tb2RhbF9fZm9ybScpXHJcbiAgICB0aGlzLl9oYW5kbGVGb3JtU3VibWl0ID0gaGFuZGxlRm9ybVN1Ym1pdDtcclxuICAgIHRoaXMuaW5wdXRMaXN0ID0gdGhpcy5fcG9wdXBGb3JtLnF1ZXJ5U2VsZWN0b3JBbGwoJy5tb2RhbF9faW5wdXQnKTtcclxuICB9XHJcblxyXG4gIHNldEV2ZW50TGlzdGVuZXJzKCkge1xyXG4gICAgc3VwZXIuc2V0RXZlbnRMaXN0ZW5lcnMoKVxyXG4gICAgdGhpcy5fcG9wdXBGb3JtLmFkZEV2ZW50TGlzdGVuZXIoJ3N1Ym1pdCcsIChlKSA9PiB7XHJcbiAgICAgIGUucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgY29uc3QgaW5wdXRWYWx1ZXMgPSB0aGlzLl9nZXRJbnB1dFZhbHVlcygpO1xyXG4gICAgICAgIHRoaXMuX2hhbmRsZUZvcm1TdWJtaXQoaW5wdXRWYWx1ZXMpO1xyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxuICBfZ2V0SW5wdXRWYWx1ZXMoKSB7XHJcbiAgICBjb25zdCBmb3JtVmFsdWVzID0ge307XHJcbiAgICB0aGlzLmlucHV0TGlzdC5mb3JFYWNoKGlucHV0ID0+IHtcclxuICAgICAgZm9ybVZhbHVlc1tpbnB1dC5uYW1lXSA9IGlucHV0LnZhbHVlLnRyaW0oKTtcclxuICAgIH0pO1xyXG4gICAgcmV0dXJuIGZvcm1WYWx1ZXM7XHJcbiAgfVxyXG4gIHNldElucHV0VmFsdWVzKGRhdGEpIHtcclxuICAgIGNvbnNvbGUubG9nKGRhdGEpO1xyXG4gICAgdGhpcy5pbnB1dExpc3QuZm9yRWFjaCgoaW5wdXQpID0+IHtcclxuICAgICAgLy8gSGVyZSB5b3UgaW5zZXJ0IHRoZSBgdmFsdWVgIGJ5IHRoZSBgbmFtZWAgb2YgdGhlIGlucHV0XHJcbiAgICAgIGlucHV0LnZhbHVlID0gZGF0YVtpbnB1dC5uYW1lXTtcclxuICAgIH0pO1xyXG4gIH1cclxuXHJcbn1cclxuIiwiaW1wb3J0IEFwaSBmcm9tIFwiLi4vY29tcG9uZW50cy9BUEkuanNcIjtcclxuaW1wb3J0IENhcmQgZnJvbSBcIi4uL2NvbXBvbmVudHMvY2FyZC5qc1wiO1xyXG5pbXBvcnQgU2VjdGlvbiBmcm9tIFwiLi4vY29tcG9uZW50cy9TZWN0aW9uLmpzXCI7XHJcbmltcG9ydCBGb3JtVmFsaWRhdG9yIGZyb20gXCIuLi9jb21wb25lbnRzL0Zvcm1WYWxpZGF0b3IuanNcIjtcclxuaW1wb3J0IFVzZXJJbmZvICBmcm9tIFwiLi4vY29tcG9uZW50cy9Vc2VySW5mby5qc1wiO1xyXG5pbXBvcnQgeyB2YWxpZGF0aW9uU2V0dGluZ3MgfSBmcm9tIFwiLi4vdXRpbHMvY29uc3RhbnRzLmpzXCI7XHJcbmltcG9ydCB7IFBvcHVwV2l0aEZvcm0gfSBmcm9tIFwiLi4vY29tcG9uZW50cy9Qb3B1cFdpdGhGb3JtLmpzXCI7XHJcbmltcG9ydCB7IFBvcHVwV2l0aEltYWdlIH0gZnJvbSBcIi4uL2NvbXBvbmVudHMvUG9wdXBXaXRoSW1hZ2UuanNcIjtcclxuaW1wb3J0IHsgUG9wdXBXaXRoQ29uZmlybWF0aW9uIH0gZnJvbSBcIi4uL2NvbXBvbmVudHMvUG9wdXBXaXRoQ29uZmlybWF0aW9uLmpzXCI7XHJcbmltcG9ydCBcIi4uL3BhZ2VzL2luZGV4LmNzc1wiO1xyXG5cclxuLy8gQVBJIEluaXRpYWxpemVkXHJcbmNvbnN0IGFwaSA9IG5ldyBBcGkoe1xyXG4gIGJhc2VVcmw6IFwiaHR0cHM6Ly9hcm91bmQtYXBpLmVuLnRyaXBsZXRlbi1zZXJ2aWNlcy5jb20vdjFcIixcclxuICBoZWFkZXJzOiB7XHJcbiAgICBhdXRob3JpemF0aW9uOiBcIjkxYjYwMWNjLWQ1YjItNDA1ZC1hMjFhLTYxNGU3ZThmNTdlN1wiLFxyXG4gICAgXCJDb250ZW50LVR5cGVcIjogXCJhcHBsaWNhdGlvbi9qc29uXCJcclxuICB9XHJcbn0pO1xyXG5cclxuLy8gUmVuZGVyIGluaXRpYWwgY2FyZHNcclxuY29uc3Qgc2VjdGlvbiA9IG5ldyBTZWN0aW9uKHtcclxuICByZW5kZXJlcjogKGNhcmREYXRhKSA9PiB7XHJcbiAgICBjb25zdCBjYXJkRWxlbWVudCA9IGNyZWF0ZUNhcmQoY2FyZERhdGEpO1xyXG4gICAgc2VjdGlvbi5hZGRJdGVtcyhjYXJkRWxlbWVudCk7XHJcbiAgICB9XHJcbiAgfSwgJy5nYWxhcnlfX2NhcmRzJyk7XHJcbiAgXHJcblxyXG5jb25zdCB1c2VyID0gbmV3IFVzZXJJbmZvKFwiI25hbWVcIiwgXCIjZGVzY3JpcHRpb25cIiwgXCIjYXZhdGFyXCIpO1xyXG5cclxuLy9HZXQgVXNlciBpbmZvXHJcbmFwaS5nZXRVc2VySW5mbygpXHJcbi50aGVuKHVzZXJEYXRhID0+IHtcclxuICB1c2VyLnNldFVzZXJJbmZvKFxyXG4gICAge25hbWU6IHVzZXJEYXRhLm5hbWUsXHJcbiAgICAgIGFib3V0OiB1c2VyRGF0YS5hYm91dCxcclxuICAgICAgYXZhdGFyOiB1c2VyRGF0YS5hdmF0YXJ9KTtcclxufSlcclxuLmNhdGNoKGVyciA9PiB7XHJcbiAgY29uc29sZS5lcnJvcihgRXJyb3IgZmV0Y2hpbmcgdXNlciBpbmZvOiAke2Vycn1gKTtcclxufSk7XHJcblxyXG5hcGkuZ2V0SW5pdGlhbENhcmRzKClcclxuICAudGhlbihjYXJkcyA9PiB7XHJcbiAgICBzZWN0aW9uLnJlbmRlckl0ZW1zKGNhcmRzKTtcclxuICB9KVxyXG4gIC5jYXRjaChlcnIgPT4ge1xyXG4gICAgY29uc29sZS5lcnJvcihgRXJyb3IgZmV0Y3RpbmcgY2FyZHM6ICR7ZXJyfWApO1xyXG4gIH0pXHJcblxyXG5cclxuLyogRWxlbWVudHMgKi8gXHJcblxyXG4vL3BvcHVwc1xyXG5jb25zdCBlZGl0UG9wdXAgPSBuZXcgUG9wdXBXaXRoRm9ybSgnI3Byb2ZpbGUtZWRpdC1tb2RhbCcsIGhhbmRsZVByb2ZpbGVTdWJtaXQpO1xyXG5jb25zdCBhZGRDYXJkUG9wdXAgPSBuZXcgUG9wdXBXaXRoRm9ybSgnI2FkZC1jYXJkLW1vZGFsJywgaGFuZGxlQWRkQ2FyZFN1Ym1pdCk7XHJcbmNvbnN0IGltYWdlUG9wdXAgPSBuZXcgUG9wdXBXaXRoSW1hZ2UoJyNpbWFnZS1tb2RhbCcsIGhhbmRsZUltYWdlQ2xpY2spOyBcclxuY29uc3QgZGVsZXRlUG9wdXAgPSBuZXcgUG9wdXBXaXRoQ29uZmlybWF0aW9uKCcjZGVsZXRlLW1vZGFsJywgaGFuZGxlRGVsZXRlU3VibWl0KTtcclxuY29uc3QgYXZhdGFyUG9wdXAgPSBuZXcgUG9wdXBXaXRoRm9ybSgnI2F2YXRhci1tb2RhbCcsIGhhbmRsZUF2YXRhclN1Ym1pdCk7XHJcblxyXG4vL2J1dHRvblxyXG5jb25zdCBwcm9maWxlRWRpdEJ1dHRvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNwcm9maWxlLWVkaXQtYnV0dG9uJyk7XHJcbmNvbnN0IGFkZE5ld0NhcmRCdXR0b24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI3Byb2ZpbGUtYWRkLWJ1dHRvblwiKTtcclxuY29uc3QgYXZhdGFyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNhdmF0YXItb3ZlcmxheVwiKTtcclxuXHJcbi8vcHJvZmlsZSBuYW1lICYgZGVzY3JpcHRpb24gLyB1c2VyIGluZm8gLyB1c2UgUHJvZmlsZSBpbWdcclxuY29uc3QgdXNlck5hbWVJbnB1dCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjbmFtZS1pbnB1dFwiKTtcclxuY29uc3QgdXNlckpvYklucHV0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNkZXNjcmlwdGlvbi1pbnB1dFwiKTtcclxuXHJcblxyXG5cclxuLy9mb3Jtc1xyXG5jb25zdCBwcm9maWxlRWRpdEZvcm1FbGVtZW50ID0gZG9jdW1lbnQuZm9ybXNbXCJwcm9maWxlLWVkaXQtZm9ybVwiXTtcclxuY29uc3QgcHJvZmlsZUFkZEZvcm1FbGVtZW50ID0gZG9jdW1lbnQuZm9ybXNbXCJhZGQtY2FyZC1mb3JtXCJdO1xyXG5jb25zdCBkZWxldGVGb3JtRWxlbWVudCA9IGRvY3VtZW50LmZvcm1zW1wiZGVsZXRlLWZvcm1cIl07XHJcbmNvbnN0IGF2YXRhckZvcm1FbGVtZW50ID0gZG9jdW1lbnQuZm9ybXNbXCJhdmF0YXItZm9ybVwiXVxyXG5cclxuLy92YWxpZGF0b3JzXHJcbmNvbnN0IGVkaXRGb3JtVmFsaWRhdG9yID0gbmV3IEZvcm1WYWxpZGF0b3IodmFsaWRhdGlvblNldHRpbmdzLCBwcm9maWxlRWRpdEZvcm1FbGVtZW50KTtcclxuY29uc3QgYWRkRm9ybVZhbGlkYXRvciA9IG5ldyBGb3JtVmFsaWRhdG9yKHZhbGlkYXRpb25TZXR0aW5ncywgcHJvZmlsZUFkZEZvcm1FbGVtZW50KTtcclxuY29uc3QgZGVsZXRlRm9ybVZhbGlkYXRvciA9IG5ldyBGb3JtVmFsaWRhdG9yKHZhbGlkYXRpb25TZXR0aW5ncywgZGVsZXRlRm9ybUVsZW1lbnQpO1xyXG5jb25zdCBhdmF0YXJGb3JtVmFsaWRhdG9yID0gbmV3IEZvcm1WYWxpZGF0b3IodmFsaWRhdGlvblNldHRpbmdzLCBhdmF0YXJGb3JtRWxlbWVudCk7XHJcblxyXG4vL0Zvcm0gVmFsaWRhdG9yc1xyXG5lZGl0Rm9ybVZhbGlkYXRvci5lbmFibGVWYWxpZGF0aW9uKCk7XHJcbmFkZEZvcm1WYWxpZGF0b3IuZW5hYmxlVmFsaWRhdGlvbigpO1xyXG5kZWxldGVGb3JtVmFsaWRhdG9yLmVuYWJsZVZhbGlkYXRpb24oKTtcclxuYXZhdGFyRm9ybVZhbGlkYXRvci5lbmFibGVWYWxpZGF0aW9uKCk7XHJcblxyXG5cclxuXHJcbi8qIEZ1bmN0aW9ucyovXHJcbi8vQ3JlYXRlIENhcmRcclxuZnVuY3Rpb24gY3JlYXRlQ2FyZChpdGVtKSB7XHJcbiAgY29uc3QgY2FyZEVsZW1lbnQgPSBuZXcgQ2FyZChpdGVtLCAnI2NhcmQtdGVtcGxhdGUnLCBoYW5kbGVJbWFnZUNsaWNrLCBoYW5kbGVEZWxldGVTdWJtaXQsIGhhbmRsZUNhcmRMaWtlKTtcclxuICByZXR1cm4gY2FyZEVsZW1lbnQuZ2V0VmlldygpO1xyXG59XHJcbi8qRXZlbnQgSGFuZGxlcnMqL1xyXG4vL2ltYWdlIGNsaWNrXHJcbmZ1bmN0aW9uIGhhbmRsZUltYWdlQ2xpY2soY2FyZERhdGEpIHtcclxuICAgIGltYWdlUG9wdXAub3BlbihjYXJkRGF0YSk7XHJcbn1cclxuXHJcbi8vZWRpdCBwcm9maWxlXHJcbmZ1bmN0aW9uIGhhbmRsZVByb2ZpbGVTdWJtaXQoZGF0YSkge1xyXG4gIGNvbnNvbGUubG9nKGRhdGEpO1xyXG4gIGFwaS51cGRhdGVVc2VySW5mbyh7XHJcbiAgICBuYW1lOiBkYXRhLm5hbWUsXHJcbiAgICBhYm91dDogZGF0YS5hYm91dFxyXG4gIH0pXHJcbiAgICAudGhlbih1cGRhdGVkVXNlckRhdGEgPT4ge1xyXG4gICAgICB1c2VyLnNldFVzZXJJbmZvKHtcclxuICAgICAgICBuYW1lOiB1cGRhdGVkVXNlckRhdGEubmFtZSwgXHJcbiAgICAgICAgYWJvdXQ6IHVwZGF0ZWRVc2VyRGF0YS5hYm91dCB8fCB1cGRhdGVkVXNlckRhdGEuZGFzY3JpcHRpb24gfHwgdXBkYXRlZFVzZXJEYXRhLmJpb1xyXG4gICAgICB9KTtcclxuICAgICAgZWRpdFBvcHVwLmNsb3NlKCk7XHJcbiAgICB9KVxyXG4gICAgLmNhdGNoKGVyciA9PiBjb25zb2xlLmVycm9yKGBFcnJvciB1cGRhdGluZyBwcm9maWxlOiAke2Vycn1gKSk7XHJcbiAgIH1cclxuXHJcbi8vIEFkZCBjYXJkXHJcbmZ1bmN0aW9uIGhhbmRsZUFkZENhcmRTdWJtaXQoZGF0YSkge1xyXG4gIGNvbnN0IGNhcmREYXRhID0ge1xyXG4gICAgbmFtZTogZGF0YS50aXRsZSxcclxuICAgIGxpbms6IGRhdGEudXJsXHJcbiAgfTtcclxuXHJcbiAgLy8gQ3JlYXRlIHRoZSBDYXJkIFxyXG4gIGFwaS5hZGROZXdDYXJkKGNhcmREYXRhKVxyXG4gICAgLnRoZW4oKG5ld0NhcmREYXRhKSA9PiB7XHJcbiAgICAgIGNvbnN0IGNhcmRFbGVtZW50ID0gY3JlYXRlQ2FyZChuZXdDYXJkRGF0YSk7XHJcbiAgICAgIHNlY3Rpb24uYWRkSXRlbXMoY2FyZEVsZW1lbnQpOyAgXHJcbiAgICAgIGFkZENhcmRQb3B1cC5jbG9zZSgpOyAgICAgICAgICAgIFxyXG4gICAgICBwcm9maWxlQWRkRm9ybUVsZW1lbnQucmVzZXQoKTsgIFxyXG4gICAgICBhZGRGb3JtVmFsaWRhdG9yLmRpc2FibGVCdXR0b24oKTsgIFxyXG4gICAgfSlcclxuICAgIC5jYXRjaChlcnIgPT4ge1xyXG4gICAgICBjb25zb2xlLmVycm9yKGBFcnJvciBhZGRpbmcgY2FyZDogJHtlcnJ9YCk7XHJcbiAgICB9KTtcclxufVxyXG5cclxuXHJcblxyXG4vL2F2YXRhclxyXG5mdW5jdGlvbiBoYW5kbGVBdmF0YXJTdWJtaXQoZGF0YSl7XHJcbiAgYXBpLnVwZGF0ZVVzZXJBdmF0YXIoe1xyXG4gICAgYXZhdGFyOiBkYXRhLnVybFxyXG4gIH0pXHJcbiAgICAudGhlbih1cGRhdGVVc2VyRGF0YSA9PiB7XHJcbiAgICAgIHVzZXIuc2V0VXNlckluZm8oe1xyXG4gICAgICAgIGF2YXRhcjogdXBkYXRlVXNlckRhdGEuYXZhdGFyXHJcbiAgICAgIH0pO1xyXG4gICAgICBhdmF0YXJQb3B1cC5jbG9zZSgpO1xyXG4gICAgfSlcclxuICAgIC5jYXRjaChlcnIgPT4gY29uc29sZS5lcnJvcihgRXJyb3IgdXBkYXRpbmcgYXZhdGFyOiAke2Vycn1gKSk7XHJcbn1cclxuXHJcbi8vZGVsZXRlXHJcbmZ1bmN0aW9uIGhhbmRsZURlbGV0ZVN1Ym1pdChjYXJkKXtcclxuICBhcGkuZGVsZXRlQ2FyZChjYXJkLl9pZClcclxuICAudGhlbihjYXJkID0+IHtcclxuICAgIGNvbnN0IGNvbmZpcm1CdXR0b24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjZGVsZXRlLWNvbmZpcm0tYnV0dG9uJyk7XHJcbiAgICBkZWxldGVQb3B1cC5vcGVuKCk7XHJcbiAgICBjb25maXJtQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZnVuY3Rpb24gb25Db25maXJtQ2xpY2soKSB7XHJcbiAgICBjYXJkLnJlbW92ZUNhcmQoKTtcclxuICAgIGFwaS5kZWxldGVDYXJkKGNhcmQuX2lkKTtcclxuICAgIGRlbGV0ZVBvcHVwLmNsb3NlKCk7XHJcbiAgICBjb25maXJtQnV0dG9uLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgb25Db25maXJtQ2xpY2spXHJcbiAgfSl9KVxyXG4gIC5jYXRjaChlcnIgPT4ge1xyXG4gICAgY29uc29sZS5lcnJvcihgRXJyb3IgZGVsZXRpbmcgY2FyZCAke2Vycn1gKTtcclxuICB9KTtcclxufVxyXG5cclxuLy9saWtlXHJcbmZ1bmN0aW9uIGhhbmRsZUNhcmRMaWtlKGNhcmQpe1xyXG4gIGNvbnN0IGlzTGlrZWQgPSBjYXJkLmlzTGlrZWQoKTsgXHJcblxyXG4gIGNvbnN0IGxpa2VQcm9taXNlID0gaXNMaWtlZFxyXG4gICAgPyBhcGkucmVtb3ZlTGlrZShjYXJkLmdldElkKCkpICBcclxuICAgIDogYXBpLmFkZExpa2UoY2FyZC5nZXRJZCgpKTsgXHJcblxyXG4gIGxpa2VQcm9taXNlXHJcbiAgICAudGhlbih1cGRhdGVkQ2FyZERhdGEgPT4ge1xyXG4gICAgICBjYXJkLnVwZGF0ZUxpa2VzKHVwZGF0ZWRDYXJkRGF0YS5pc0xpa2VkKTsgIFxyXG4gICAgfSlcclxuICAgIC5jYXRjaChlcnIgPT4gY29uc29sZS5lcnJvcihgRXJyb3IgdXBkYXRpbmcgbGlrZSBzdGF0dXM6ICR7ZXJyfWApKTtcclxufVxyXG5cclxuZnVuY3Rpb24gb3Blbk1vZGFsKHBvcHVwKSB7XHJcbiAgY29uc3QgY3VycmVudFVzZXIgPSB1c2VyLmdldFVzZXJJbmZvKCk7XHJcbiAgdXNlck5hbWVJbnB1dC52YWx1ZSA9IGN1cnJlbnRVc2VyLm5hbWU7XHJcbiAgdXNlckpvYklucHV0LnZhbHVlID0gY3VycmVudFVzZXIuYWJvdXQ7XHJcbiAgcG9wdXAub3BlbigpO1xyXG59XHJcblxyXG4vLyBFdmVudCBMaXN0ZW5lcnNcclxuYXZhdGFyLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT57b3Blbk1vZGFsKGF2YXRhclBvcHVwKX0pXHJcblxyXG5wcm9maWxlRWRpdEJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+e29wZW5Nb2RhbChlZGl0UG9wdXApfSk7XHJcblxyXG5hZGROZXdDYXJkQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xyXG4gIGFkZENhcmRQb3B1cC5vcGVuKCk7XHJcbn0pO1xyXG5cclxuXHJcblxyXG5lZGl0UG9wdXAuc2V0RXZlbnRMaXN0ZW5lcnMoKTtcclxuYWRkQ2FyZFBvcHVwLnNldEV2ZW50TGlzdGVuZXJzKCk7XHJcbmltYWdlUG9wdXAuc2V0RXZlbnRMaXN0ZW5lcnMoKTtcclxuZGVsZXRlUG9wdXAuc2V0RXZlbnRMaXN0ZW5lcnMoKTtcclxuYXZhdGFyUG9wdXAuc2V0RXZlbnRMaXN0ZW5lcnMoKTtcclxuIiwiZXhwb3J0IGRlZmF1bHQgY2xhc3MgU2VjdGlvbiB7XHJcbiAgY29uc3RydWN0b3Ioe2RhdGEsIHJlbmRlcmVyfSwgY29udGFpbmVyU2VsZWN0b3IpIHtcclxuICAgIHRoaXMuX2RhdGEgPSBkYXRhO1xyXG4gICAgdGhpcy5fcmVuZGVyZXIgPSByZW5kZXJlcjtcclxuICAgIHRoaXMuX2NvbnRhaW5lciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoY29udGFpbmVyU2VsZWN0b3IpO1xyXG4gIH1cclxuXHJcbiAgcmVuZGVySXRlbXMoKSB7XHJcbiAgICB0aGlzLl9kYXRhLmZvckVhY2goaXRlbSA9PiB7XHJcbiAgICAgIHRoaXMuX3JlbmRlcmVyKGl0ZW0pO1xyXG4gIH0pO1xyXG59XHJcblxyXG4gIGFkZEl0ZW1zKGVsZW1lbnQpIHtcclxuICAgIHRoaXMuX2NvbnRhaW5lci5wcmVwZW5kKGVsZW1lbnQpO1xyXG4gIH1cclxuXHJcblxyXG59IiwiZXhwb3J0IGRlZmF1bHQgY2xhc3MgVXNlckluZm97XHJcbiAgY29uc3RydWN0b3IobmFtZVNlbGN0b3IsIGpvYlNlbGVjdG9yLCBhdmF0YXJTZWxlY3Rvcil7XHJcbiAgICB0aGlzLl9uYW1lRWxlbWVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IobmFtZVNlbGN0b3IpO1xyXG4gICAgdGhpcy5fam9iRWxlbWVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3Ioam9iU2VsZWN0b3IpO1xyXG4gICAgdGhpcy5fYXZhdGFyRWxlbWVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoYXZhdGFyU2VsZWN0b3IpXHJcbiAgICBcclxuICB9XHJcbiAgZ2V0VXNlckluZm8oKXtcclxuICAgIHJldHVybiB7XHJcbiAgICAgIG5hbWU6IHRoaXMuX25hbWVFbGVtZW50LnRleHRDb250ZW50LCBcclxuICAgICAgYWJvdXQ6IHRoaXMuX2pvYkVsZW1lbnQudGV4dENvbnRlbnQsXHJcbiAgICAgIGF2YXRhcjogdGhpcy5fYXZhdGFyRWxlbWVudC5zcmN9OyAgICBcclxuICB9XHJcbiAgc2V0VXNlckluZm8oZGF0YSl7XHJcbiAgICBpZiAoZGF0YS5uYW1lKSB0aGlzLl9uYW1lRWxlbWVudC50ZXh0Q29udGVudCA9IGRhdGEubmFtZTtcclxuICAgIGlmKGRhdGEuYWJvdXQpIHRoaXMuX2pvYkVsZW1lbnQudGV4dENvbnRlbnQgPSBkYXRhLmFib3V0O1xyXG4gICAgaWYoZGF0YS5hdmF0YXIpIHRoaXMuX2F2YXRhckVsZW1lbnQuc3JjID0gZGF0YS5hdmF0YXI7XHJcbiAgfVxyXG59XHJcbiIsImltcG9ydCBQb3B1cCBmcm9tIFwiLi9Qb3B1cC5qc1wiO1xyXG5cclxuZXhwb3J0IGNsYXNzIFBvcHVwV2l0aEltYWdlIGV4dGVuZHMgUG9wdXB7XHJcbiAgY29uc3RydWN0b3IocG9wdXBTZWxlY3RvciwgZGF0YSkge1xyXG4gICAgc3VwZXIocG9wdXBTZWxlY3Rvcik7XHJcbiAgICB0aGlzLl9wb3B1cEltYWdlID0gdGhpcy5fcG9wdXBFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoJy5tb2RhbF9faW1hZ2UnKTtcclxuICAgIHRoaXMuX3BvcHVwVGl0bGUgPSB0aGlzLl9wb3B1cEVsZW1lbnQucXVlcnlTZWxlY3RvcignLm1vZGFsX19jYXJkLXRpdGxlJyk7XHJcbiAgICBcclxuICAgIFxyXG5cclxuICB9XHJcbiAgb3BlbihkYXRhKXtcclxuICAgLy8gc2V0IHRoZSBpbWFnZSdzIHNyYyBhbmQgYWx0XHJcbiAgICB0aGlzLl9wb3B1cEltYWdlLnNyYyA9IGRhdGEubGluaztcclxuICAgIHRoaXMuX3BvcHVwSW1hZ2UuYWx0ID0gZGF0YS5uYW1lO1xyXG4gICAvLyBzZXQgdGhlIGNhcHRpb24ncyB0ZXh0Q29udGVudFxyXG4gICAgdGhpcy5fcG9wdXBUaXRsZS50ZXh0Q29udGVudCA9IGRhdGEubmFtZTtcclxuICAgIHN1cGVyLm9wZW4oKTtcclxuICB9XHJcbn0iLCJpbXBvcnQgUG9wdXAgZnJvbSBcIi4vUG9wdXAuanNcIjtcclxuXHJcbmV4cG9ydCBjbGFzcyBQb3B1cFdpdGhDb25maXJtYXRpb24gZXh0ZW5kcyBQb3B1cHtcclxuICBjb25zdHJ1Y3Rvcihwb3B1cFNlbGVjdG9yLCBoYW5kbGVDb25maXJtKXtcclxuICAgIHN1cGVyKHBvcHVwU2VsZWN0b3IpO1xyXG4gICAgdGhpcy5fY29uZmltQnV0dG9uID0gdGhpcy5fcG9wdXBFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoJy5tb2RhbF9fYnV0dG9uJylcclxuICAgIHRoaXMuX2hhbmRsZUNvbmZpcm0gPSBoYW5kbGVDb25maXJtO1xyXG4gIH1cclxuICBzZXRFdmVudExpc3RlbmVycygpIHtcclxuICAgIHN1cGVyLnNldEV2ZW50TGlzdGVuZXJzKCk7XHJcbiAgICB0aGlzLl9oYW5kbGVDb25maXJtO1xyXG4gIH1cclxufSJdLCJuYW1lcyI6WyJBcGkiLCJjb25zdHJ1Y3RvciIsIm9wdGlvbnMiLCJ0aGlzIiwiX2Jhc2VVcmwiLCJiYXNlVXJsIiwiX2hlYWRlcnMiLCJoZWFkZXJzIiwiX2NoZWNrUmVzcG9uc2UiLCJyZXMiLCJvayIsImpzb24iLCJQcm9taXNlIiwicmVqZWN0Iiwic3RhdHVzIiwiX3JlcXVlc3QiLCJ1cmwiLCJmZXRjaCIsInRoZW4iLCJnZXRJbml0aWFsQ2FyZHMiLCJtZXRob2QiLCJnZXRVc2VySW5mbyIsInVwZGF0ZVVzZXJJbmZvIiwiZGF0YSIsImJvZHkiLCJKU09OIiwic3RyaW5naWZ5IiwidXBkYXRlVXNlckF2YXRhciIsImF2YXRhciIsImFkZE5ld0NhcmQiLCJuYW1lIiwibGluayIsImRlbGV0ZUNhcmQiLCJjYXJkSWQiLCJhZGRMaWtlIiwicmVtb3ZlTGlrZSIsImF1dGhvdXJpemF0aW9uIiwiQ2FyZCIsImNhcmRTZWxlY3RvciIsImhhbmRsZUltYWdlQ2xpY2siLCJoYW5kbGVEZWxldGVTdWJtaXQiLCJoYW5kbGVDYXJkTGlrZSIsIl9pZCIsIl9uYW1lIiwiX2xpbmsiLCJfaXNMaWtlZCIsImlzTGlrZWQiLCJfdXNlcklkIiwib3duZXIiLCJfY2FyZFNlbGVjdG9yIiwiX2hhbmRsZUltYWdlQ2xpY2siLCJfaGFuZGxlRGVsZXRlU3VibWl0IiwiX2hhbmRsZUNhcmRMaWtlIiwiX2VsZW1lbnQiLCJfZ2V0VGVtcGxhdGUiLCJkb2N1bWVudCIsInF1ZXJ5U2VsZWN0b3IiLCJjb250ZW50IiwiY2xvbmVOb2RlIiwiX3NldEV2ZW50TGlzdGVuZXJzIiwiX2xpa2VCdXR0b24iLCJhZGRFdmVudExpc3RlbmVyIiwiX2RlbGV0ZUJ1dHRvbiIsIl9jYXJkSW1hZ2VFbGVtZW50IiwidXBkYXRlTGlrZXMiLCJ1cGRhdGVkTGlrZSIsInRvZ2dsZUxpa2VJY29uIiwiY2xhc3NMaXN0IiwidG9nZ2xlIiwiZ2V0SWQiLCJyZW1vdmVDYXJkIiwiX2NhcmRFbGVtZW50IiwicmVtb3ZlIiwiZ2V0VmlldyIsInNldEF0dHJpYnV0ZSIsInRleHRDb250ZW50IiwiRm9ybVZhbGlkYXRvciIsInNldHRpbmdzIiwiZm9ybUVsZW1lbnQiLCJfaW5wdXRTZWxlY3RvciIsImlucHV0U2VsZWN0b3IiLCJfc3VibWl0QnV0dG9uU2VsZWN0b3IiLCJzdWJtaXRCdXR0b25TZWxlY3RvciIsIl9pbmFjdGl2ZUJ1dHRvbkNsYXNzIiwiaW5hY3RpdmVCdXR0b25DbGFzcyIsIl9pbnB1dEVycm9yQ2xhc3MiLCJpbnB1dEVycm9yQ2xhc3MiLCJfZXJyb3JDbGFzcyIsImVycm9yQ2xhc3MiLCJfZm9ybSIsIl9pbnB1dEVscyIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJfc3VibWl0QnV0dG9uIiwiX2hpZGVJbnB1dEVycm9yIiwiaW5wdXRFbCIsImVycm9yTWVzc2FnZUVsIiwiaWQiLCJfc2hvd0lucHV0RXJyb3IiLCJhZGQiLCJ2YWxpZGF0aW9uTWVzc2FnZSIsIl9oYXNJbnZhbGlkSW5wdXQiLCJzb21lIiwidmFsaWRpdHkiLCJ2YWxpZCIsIl90b2dnbGVCdXR0b25TdGF0ZSIsImRpc2FibGVCdXR0b24iLCJfZW5hYmxlQnV0dG9uIiwiZGlzYWJsZWQiLCJfY2hlY2tJbnB1dFZhbGlkaXR5IiwiZm9yRWFjaCIsInNldFRpbWVvdXQiLCJlbmFibGVWYWxpZGF0aW9uIiwiZSIsInByZXZlbnREZWZhdWx0IiwidmFsaWRhdGlvblNldHRpbmdzIiwiUG9wdXAiLCJwb3B1cFNlbGVjdG9yIiwiX3BvcHVwRWxlbWVudCIsIm9wZW4iLCJfaGFuZGxlRXNjYXBlQ2xvc2UiLCJjbG9zZSIsInJlbW92ZUV2ZW50TGlzdGVuZXIiLCJldmVudCIsImtleSIsInNldEV2ZW50TGlzdGVuZXJzIiwiX2Nsb3NlQnV0dG9uIiwidGFyZ2V0IiwiY29udGFpbnMiLCJQb3B1cFdpdGhGb3JtIiwiaGFuZGxlRm9ybVN1Ym1pdCIsInN1cGVyIiwiX3BvcHVwRm9ybSIsIl9oYW5kbGVGb3JtU3VibWl0IiwiaW5wdXRMaXN0IiwiaW5wdXRWYWx1ZXMiLCJfZ2V0SW5wdXRWYWx1ZXMiLCJmb3JtVmFsdWVzIiwiaW5wdXQiLCJ2YWx1ZSIsInRyaW0iLCJzZXRJbnB1dFZhbHVlcyIsImNvbnNvbGUiLCJsb2ciLCJhcGkiLCJhdXRob3JpemF0aW9uIiwic2VjdGlvbiIsIl9yZWYiLCJjb250YWluZXJTZWxlY3RvciIsInJlbmRlcmVyIiwiX2RhdGEiLCJfcmVuZGVyZXIiLCJfY29udGFpbmVyIiwicmVuZGVySXRlbXMiLCJpdGVtIiwiYWRkSXRlbXMiLCJlbGVtZW50IiwicHJlcGVuZCIsImNhcmREYXRhIiwiY2FyZEVsZW1lbnQiLCJjcmVhdGVDYXJkIiwidXNlciIsIm5hbWVTZWxjdG9yIiwiam9iU2VsZWN0b3IiLCJhdmF0YXJTZWxlY3RvciIsIl9uYW1lRWxlbWVudCIsIl9qb2JFbGVtZW50IiwiX2F2YXRhckVsZW1lbnQiLCJhYm91dCIsInNyYyIsInNldFVzZXJJbmZvIiwidXNlckRhdGEiLCJjYXRjaCIsImVyciIsImVycm9yIiwiY2FyZHMiLCJlZGl0UG9wdXAiLCJ1cGRhdGVkVXNlckRhdGEiLCJkYXNjcmlwdGlvbiIsImJpbyIsImFkZENhcmRQb3B1cCIsInRpdGxlIiwibmV3Q2FyZERhdGEiLCJwcm9maWxlQWRkRm9ybUVsZW1lbnQiLCJyZXNldCIsImFkZEZvcm1WYWxpZGF0b3IiLCJpbWFnZVBvcHVwIiwiX3BvcHVwSW1hZ2UiLCJfcG9wdXBUaXRsZSIsImFsdCIsImRlbGV0ZVBvcHVwIiwiaGFuZGxlQ29uZmlybSIsIl9jb25maW1CdXR0b24iLCJfaGFuZGxlQ29uZmlybSIsImF2YXRhclBvcHVwIiwidXBkYXRlVXNlckRhdGEiLCJwcm9maWxlRWRpdEJ1dHRvbiIsImFkZE5ld0NhcmRCdXR0b24iLCJ1c2VyTmFtZUlucHV0IiwidXNlckpvYklucHV0IiwicHJvZmlsZUVkaXRGb3JtRWxlbWVudCIsImZvcm1zIiwiZGVsZXRlRm9ybUVsZW1lbnQiLCJhdmF0YXJGb3JtRWxlbWVudCIsImVkaXRGb3JtVmFsaWRhdG9yIiwiZGVsZXRlRm9ybVZhbGlkYXRvciIsImF2YXRhckZvcm1WYWxpZGF0b3IiLCJjYXJkIiwiY29uZmlybUJ1dHRvbiIsIm9uQ29uZmlybUNsaWNrIiwidXBkYXRlZENhcmREYXRhIiwib3Blbk1vZGFsIiwicG9wdXAiLCJjdXJyZW50VXNlciJdLCJzb3VyY2VSb290IjoiIn0=